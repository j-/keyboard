keyboard-key {
	border: none;
	font: 10px Arial, sans-serif;
	text-align: center;
	overflow: hidden;
	position: relative;
	text-decoration: none;
	cursor: default;
	margin: 0 1px 1px 0;
	padding: 0;
	display: flex;
	flex-direction: column;
	align-content: flex-start;

	& {
		color: #666;
		background-color: #fff;
		box-shadow:
			0 0 0 1px hsl(0, 0%, 80%),
			0 2px 0 0 hsla(0, 0%, 0%, 0.1);
	}

	&:active,
	&.keydown {
		color: #079;
		background-color: hsl(195, 62%, 94%);
		box-shadow:
			0 0 0 1px hsl(195, 100%, 40%),
			0 2px 0 0 hsla(195, 100%, 40%, 0.3);
	}

	span {
		display: block;
		flex-grow: 1;
		flex-basis: 50%;
		text-align: center;
		width: 100%;
	}
}

.keyboard-block {
	background: #ccc;
	display: flex;
	flex-direction: column;
}

.keyboard-block > .keyboard-row {
	width: 100%;
	display: flex;
	flex-direction: row;
	flex-grow: 1;
	flex-basis: 0;
}

.keyboard-block > .keyboard-row > keyboard-key {
	flex-grow: 1;
	flex-basis: 0;

	&:active,
	&.keydown {
		z-index: 2;
	}

	&:focus {
		z-index: 3;
	}
}

@keyboard-max-width: 1000px;
@keyboard-height-ratio: (1 / 3);
@keyboard-font-ratio: (1 / 85);
@keyboard-padding-ratio: (1 / 200);
@keyboard-base-scaled: 100vw;
@keyboard-base-fixed: @keyboard-max-width;

@media all and (max-width: @keyboard-max-width) {
	.keyboard-block {
		width: @keyboard-base-scaled;
		height: (@keyboard-height-ratio * @keyboard-base-scaled);
	}

	keyboard-key span {
		font-size: (@keyboard-font-ratio * @keyboard-base-scaled);
		padding: (@keyboard-padding-ratio * @keyboard-base-scaled) 0;
	}
}

@media all and (min-width: @keyboard-max-width) {
	.keyboard-block {
		width: @keyboard-base-fixed;
		height: (@keyboard-height-ratio * @keyboard-base-fixed);
	}

	keyboard-key span {
		font-size: (@keyboard-font-ratio * @keyboard-base-fixed);
		padding: (@keyboard-padding-ratio * @keyboard-base-fixed) 0;
	}
}
